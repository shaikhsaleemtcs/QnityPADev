//Generated by wsdl2apex
public class NpcserviceVARKEY {
	public class Items {
		public String itemnumber;
		public String MaterialNumber;
		public String Quantity;
		public String TargetUOM;
		private String[] itemnumber_type_info = new String[]{'itemnumber','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] MaterialNumber_type_info = new String[]{'MaterialNumber','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] Quantity_type_info = new String[]{'Quantity','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] TargetUOM_type_info = new String[]{'TargetUOM','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'itemnumber','MaterialNumber','Quantity','TargetUOM'};
	}
	public class AllowFieldTruncationHeader_element {
		public Boolean allowFieldTruncation;
		private String[] allowFieldTruncation_type_info = new String[]{'allowFieldTruncation','http://www.w3.org/2001/XMLSchema','boolean','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'allowFieldTruncation'};
	}
	public class CallOptions_element {
		public String client;
		private String[] client_type_info = new String[]{'client','http://www.w3.org/2001/XMLSchema','string','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'client'};
	}
	public class calculateNetPriceResponse_element {
		public NpcserviceVARKEY.NetPriceOutput result;
		private String[] result_type_info = new String[]{'result','http://soap.sforce.com/schemas/class/NPCService','NetPriceOutput','1','1','true'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'result'};
	}
	public class NetPriceOutput {
		public String ConditionRateVARKEY;
		public String ErrorDescription;
		private String[] ConditionRateVARKEY_type_info = new String[]{'ConditionRateVARKEY','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] ErrorDescription_type_info = new String[]{'ErrorDescription','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'ConditionRateVARKEY','ErrorDescription'};
	}
	public class SessionHeader_element {
		public String sessionId;
		private String[] sessionId_type_info = new String[]{'sessionId','http://www.w3.org/2001/XMLSchema','string','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'sessionId'};
	}
	public class LogInfo {
		public String category;
		public String level;
		private String[] category_type_info = new String[]{'category','http://soap.sforce.com/schemas/class/NPCService','LogCategory','1','1','false'};
		private String[] level_type_info = new String[]{'level','http://soap.sforce.com/schemas/class/NPCService','LogCategoryLevel','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'category','level'};
	}
	public class DebuggingHeader_element {
		public NpcserviceVARKEY.LogInfo[] categories;
		public String debugLevel;
		private String[] categories_type_info = new String[]{'categories','http://soap.sforce.com/schemas/class/NPCService','LogInfo','0','-1','false'};
		private String[] debugLevel_type_info = new String[]{'debugLevel','http://soap.sforce.com/schemas/class/NPCService','LogType','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'categories','debugLevel'};
	}
	public class calculateNetPrice_element {
		public NpcserviceVARKEY.NetPriceInput npcInput;
		private String[] npcInput_type_info = new String[]{'npcInput','http://soap.sforce.com/schemas/class/NPCService','NetPriceInput','1','1','true'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'npcInput'};
	}
	public class DebuggingInfo_element {
		public String debugLog;
		private String[] debugLog_type_info = new String[]{'debugLog','http://www.w3.org/2001/XMLSchema','string','1','1','false'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'debugLog'};
	}
	public class Partner {
		public String PartnerCode;
		public String PartnerNumber;
		public String PartnerCode1;
		public String PartnerNumber1;
		private String[] PartnerCode_type_info = new String[]{'PartnerCode','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] PartnerNumber_type_info = new String[]{'PartnerNumber','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] PartnerCode1_type_info = new String[]{'PartnerCode1','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] PartnerNumber1_type_info = new String[]{'PartnerNumber1','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'PartnerCode','PartnerNumber','PartnerCode1','PartnerNumber1'};
	}

	public class NetPriceInput {
		public String DistributionChannelCode;
		public String DivisionCode;
		public String Incoterms1;
		public String Incoterms2;
		public NpcserviceVARKEY.Items Itemdetails;
		public NpcserviceVARKEY.Partner Partnerdetails;
		public Date PricingDate;
		public String SalesDocumentType;
		public String SalesOrgCode;
		public String SapCluster;
		public String TermsOfPaymentCode;
		private String[] DistributionChannelCode_type_info = new String[]{'DistributionChannelCode','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] DivisionCode_type_info = new String[]{'DivisionCode','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] Incoterms1_type_info = new String[]{'Incoterms1','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] Incoterms2_type_info = new String[]{'Incoterms2','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] Itemdetails_type_info = new String[]{'Itemdetails','http://soap.sforce.com/schemas/class/NPCService','Items','0','1','true'};
		private String[] Partnerdetails_type_info = new String[]{'Partnerdetails','http://soap.sforce.com/schemas/class/NPCService','Partner','0','1','true'};
		private String[] PricingDate_type_info = new String[]{'PricingDate','http://www.w3.org/2001/XMLSchema','date','0','1','true'};
		private String[] SalesDocumentType_type_info = new String[]{'SalesDocumentType','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] SalesOrgCode_type_info = new String[]{'SalesOrgCode','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] SapCluster_type_info = new String[]{'SapCluster','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] TermsOfPaymentCode_type_info = new String[]{'TermsOfPaymentCode','http://www.w3.org/2001/XMLSchema','string','0','1','true'};
		private String[] apex_schema_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService','false','false'};
		private String[] field_order_type_info = new String[]{'DistributionChannelCode','DivisionCode','Incoterms1','Incoterms2','Itemdetails','Partnerdetails','PricingDate','SalesDocumentType','SalesOrgCode','SapCluster','TermsOfPaymentCode'};
	}
	public class NPCService {
		public String endpoint_x = IntegrationLoginCredentials__c.getInstance('LoginDetails').EndPointURL__c;
		// 'https://pg3tx.pioneer.com:443/sfdc_pricing/service/price_calc';
		public Map<String,String> inputHttpHeaders_x;
		public Map<String,String> outputHttpHeaders_x;
		public String clientCertName_x;
		public String clientCert_x;
		public String clientCertPasswd_x;
		public Integer timeout_x;
		public NpcserviceVARKEY.DebuggingInfo_element DebuggingInfo;
		public NpcserviceVARKEY.SessionHeader_element SessionHeader;
		public NpcserviceVARKEY.DebuggingHeader_element DebuggingHeader;
		public NpcserviceVARKEY.CallOptions_element CallOptions;
		public NpcserviceVARKEY.AllowFieldTruncationHeader_element AllowFieldTruncationHeader;
		private String DebuggingInfo_hns = 'DebuggingInfo=http://soap.sforce.com/schemas/class/NPCService';
		private String SessionHeader_hns = 'SessionHeader=http://soap.sforce.com/schemas/class/NPCService';
		private String DebuggingHeader_hns = 'DebuggingHeader=http://soap.sforce.com/schemas/class/NPCService';
		private String CallOptions_hns = 'CallOptions=http://soap.sforce.com/schemas/class/NPCService';
		private String AllowFieldTruncationHeader_hns = 'AllowFieldTruncationHeader=http://soap.sforce.com/schemas/class/NPCService';
		private String[] ns_map_type_info = new String[]{'http://soap.sforce.com/schemas/class/NPCService', 'NpcserviceVARKEY'};
		public NpcserviceVARKEY.NetPriceOutput calculateNetPrice(NpcserviceVARKEY.NetPriceInput npcInput) {
			inputHttpHeaders_x = new Map<String,String>();
			//Blob headerValue = Blob.valueOf('ddsfdcpr:whs78isgrt!!');
			/* To read from Custom settigns and decrypt the password and create the final authorisation header
			 */
			String encryptedValue=IntegrationLoginCredentials__c.getInstance('LoginDetails').EncryptedLoginDetails__c;
			Blob b=EncodingUtil.base64Decode(encryptedValue);
			System.debug('to string'+b.toString());
			String unamePwd= b.toString();
			List<String> splitList=unamePwd.split(':');
			String userName=splitList[0];
			String password=splitList[1];
			String finalPassword= password.subString(3,password.length()-3);
			Blob headerValue = Blob.valueOf(userName+':'+finalPassword);
			String authorizationHeader = 'BASIC ' + EncodingUtil.base64Encode(headerValue);
			inputHttpHeaders_x.put('Authorization', authorizationHeader);
			NpcserviceVARKEY.calculateNetPrice_element request_x = new NpcserviceVARKEY.calculateNetPrice_element();
			NpcserviceVARKEY.calculateNetPriceResponse_element response_x;
			request_x.npcInput = npcInput;
			Map<String, NpcserviceVARKEY.calculateNetPriceResponse_element> response_map_x = new Map<String, NpcserviceVARKEY.calculateNetPriceResponse_element>();
			response_map_x.put('response_x', response_x);
			WebServiceCallout.invoke(
					this,
					request_x,
					response_map_x,
					new String[]{endpoint_x,
							'',
							'http://soap.sforce.com/schemas/class/NPCService',
							'calculateNetPrice',
							'http://soap.sforce.com/schemas/class/NPCService',
							'calculateNetPriceResponse',
					'NpcserviceVARKEY.calculateNetPriceResponse_element'}
			);
			response_x = response_map_x.get('response_x');
			return response_x.result;
		}
	}
}